<%
=begin

Lesli

Copyright (c) 2023, Lesli Technologies, S. A.

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see http://www.gnu.org/licenses/.

Lesli · Ruby on Rails SaaS development platform.

Made with ♥ by https://www.lesli.tech
Building a better future, one line of code at a time.

@contact  hello@lesli.tech
@website  https://www.lesli.tech
@license  GPLv3 http://www.gnu.org/licenses/gpl-3.0.en.html

// · ~·~     ~·~     ~·~     ~·~     ~·~     ~·~     ~·~     ~·~     ~·~
// · 
=end
%>


<% content_for :application_custom_assets do %>
<script>
    setTimeout(() => { window.location.href = "/"; }, 10000)
</script>
<% end %>



<% custom_app_page_clas = "#{ lesli_instance_code }-session".downcase %>
<% custom_app_page_path = "#{ lesli_instance_code }/lesli/devise/confirmations/show" %>
<% custom_app_page_exists = lookup_context.exists?(custom_app_page_path) %>



<%# render custom view in builder module %>
<% if custom_app_page_exists %>
<main id="lesli-application" class="<%= custom_app_page_clas %>">
    <%= render :template => custom_app_page_path %>
</main>
<% end %>



<%# core view for passses %>
<% unless custom_app_page_exists %>
<main id="lesli-application">
    <section class="hero is-fullheight">
        <div class="hero-body is-paddingless">
            <div class="container has-text-centered">

                <%= image_tag "#{ lesli_instance_code }/brand/app-logo.svg", :alt => "Lesli logo" %>

                <% if flash[:danger] %>
                    <% flash.each do |type, msg| %>
                        <div class="notification is-<%= type %>">
                            <%= msg %>
                        </div>
                    <% end %>
                <% end %>

                <% if flash[:success] %>
                    <div class="content">
                        <svg version="1.1" viewBox="0 0 512 512" width="512px" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                            <path d="M256,6.998c-137.533,0-249,111.467-249,249c0,137.534,111.467,249,249,249s249-111.467,249-249  C505,118.464,393.533,6.998,256,6.998z M256,485.078c-126.309,0-229.08-102.771-229.08-229.081  c0-126.31,102.771-229.08,229.08-229.08c126.31,0,229.08,102.771,229.08,229.08C485.08,382.307,382.31,485.078,256,485.078z"/>
                            <polygon points="384.235,158.192 216.919,325.518 127.862,236.481 113.72,250.624 216.919,353.803 398.28,172.334"/>
                        </svg>
                        <h2>Confirmation successfully</h2>
                    </div>
                <% end %>

            </div>
        </div>
    </section>
</main>
<% end %>
