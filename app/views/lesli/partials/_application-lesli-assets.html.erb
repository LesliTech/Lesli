<%#

Lesli

Copyright (c) 2025, Lesli Technologies, S. A.

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program. If not, see http://www.gnu.org/licenses/.

Lesli · Ruby on Rails SaaS Development Framework.

Made with ♥ by LesliTech
Building a better future, one line of code at a time.

@contact  hello@lesli.tech
@website  https://www.lesli.tech
@license  GPLv3 http://www.gnu.org/licenses/gpl-3.0.en.html

// · ~·~     ~·~     ~·~     ~·~     ~·~     ~·~     ~·~     ~·~     ~·~
// · 
%>


<%
# Defining color customization 
# colors will be override with the ones defined in the database if custom colors exists
# if there is no custom colors defined, the var() function will return the lesli colors
@colors = @lesli.dig(:customization, :colors) || {}
%>


<%# Defining color palette from users preferences from the database %> 
<style>
:root {
    <% @colors.each_pair do |key, value| %>
    <%= "--#{ key.to_s.gsub('_','-') }: #{ value.to_s };" if value %>
    <% end %>
}
</style>


<%# Loading stylesheets from engines %> 
<%= stylesheet_link_tag(lesli_stylesheet_path(:lesli_assets), media: "all") %>
<%= stylesheet_link_tag(lesli_stylesheet_path(), media: "all") %>

<%# Loading javascripts from engines %> 
<%= javascript_include_tag(lesli_stylesheet_path(:lesli_assets, 'application'), :defer => "defer") %>
<%= yield(:application_lesli_javascript) %>
