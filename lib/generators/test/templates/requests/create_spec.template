=begin

[[license]]
=end


require "lesli_request_helper"


RSpec.describe "Tests for Lesli3", type: :request, :unless => defined?(DeutscheLeibrenten) do
    describe "POST:[[url]].json", type: :request do
        include_context "request user authentication"

        # test cases

        it "is expected to test the creation of the record with values" do
            #@[[controller]]_params = {}

            params = [[controller_folder_upper]]::[[controller_file_upper]].column_names
            params_hash_value = {}
            params.each do |value|
                params_hash_value[value] =   Faker::Name.name
            end
            
            puts "parametros random #{params_hash_value}"
            
            hash_name = [[controller_folder]].to_s.concat("_").concat([[controller_file]]).to_s
            puts "nombre del hash armado #{[[controller_folder]].concat("_").concat([[controller_file]])}"

            post("[[url]].json", params: {
                [[controller_folder]].concat("_").concat([[controller_file]]): params
            })

            # shared examples
            expect_json_response_successful

        end

        it "is expected to test the creation of the record with empty values" do
            #@[[controller]]_params = {}

            params = [[controller_folder_upper]]::[[controller_file_upper]].column_names
            params_hash_empty = {}
            params.each do |value|
                params_hash_empty[value] =  ""
            end
            
            puts "parametros random #{params_hash_empty}"
            
            
            hash_name = [[controller_folder]].to_s.concat("_").concat([[controller_file]]).to_s
            puts "nombre del hash armado #{[[controller_folder]].concat("_").concat([[controller_file]])}"

            post("[[url]].json", params: {
                [[controller_folder]].concat("_").concat([[controller_file]]): params
            })

            # shared examples
            expect_json_response_successful

        end

        it "is expected to test the creation of the record with empty values" do
            #@[[controller]]_params = {}

            params = [[controller_folder_upper]]::[[controller_file_upper]].column_names
            params_hash_nil = {}
            params.each do |value|
                params_hash_nil[value] =  nil
            end
            
            puts "parametros random #{params_hash_nil}"
            
            
            hash_name = [[controller_folder]].to_s.concat("_").concat([[controller_file]]).to_s
            puts "nombre del hash armado #{[[controller_folder]].concat("_").concat([[controller_file]])}"

            post("[[url]].json", params: {
                [[controller_folder]].concat("_").concat([[controller_file]]): params
            })

            # shared examples
            expect_json_response_successful

        end




    end
end
